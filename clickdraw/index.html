<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="style.css">
<head>
<body>
<!-- <img src="./images/draw_bojack.jpg"/> -->

<h1>Drawing with mouse events</h1>
<canvas id="mouseDraw" width="560" height="360"></canvas>

<p id="numMouseDown">mousedown events</p>
<p id="mouseMoveNum">num mousemoves</p>
<p id="numMouseUp">mouseup events</p>
<p id="mouseMovingData">moving mouse x, y position</p>
<script>
// When true, moving the mouse draws on the canvas
let isDrawing = false;
let x = 0;
let y = 0;

const mouseDraw = document.getElementById('mouseDraw');
const context = mouseDraw.getContext('2d');

// event.offsetX, event.offsetY gives the (x,y) offset from the edge of the canvas.

// Add the event listeners for mousedown, mousemove, and mouseup
let mouseDownEvents = 0;
mouseDraw.addEventListener('mousedown', e => {
  mouseDownEvents = mouseDownEvents + 1;
  let mouseDownEventText = "mouse down event #: " + mouseDownEvents;
  document.getElementById("numMouseDown").innerHTML = mouseDownEventText;
  x = e.offsetX;
  y = e.offsetY;
  isDrawing = true;
});

let mouseMoveEvents = 0;
mouseDraw.addEventListener('mousemove', e => {
  mouseMoveEvents = mouseMoveEvents + 1;
  let mouseMoveEventText = "mouse move event #: " + mouseMoveEvents;
  document.getElementById("mouseMoveNum").innerHTML = mouseMoveEventText;
  let clickX = event.clientX;
  let clickY = event.clientY;
  let mouseXYText = "Mouse move X, Y position: " + clickX + " " + clickY;
  document.getElementById("mouseMovingData").innerHTML = mouseXYText;
  if (isDrawing === true) {
    drawLine(context, x, y, e.offsetX, e.offsetY);
    x = e.offsetX;
    y = e.offsetY;
  }
});

let mouseUpEvents = 0;
window.addEventListener('mouseup', e => {
  mouseUpEvents = mouseUpEvents + 1;
  let MouseUpEventText = "mouse up event #: " + mouseUpEvents;
  document.getElementById("numMouseUp").innerHTML = MouseUpEventText;
  if (isDrawing === true) {
    drawLine(context, x, y, e.offsetX, e.offsetY);
    x = 0;
    y = 0;
    isDrawing = false;
  }
});

function drawLine(context, x1, y1, x2, y2) {
  context.beginPath();
  context.strokeStyle = 'black';
  context.lineWidth = 1;
  context.moveTo(x1, y1);
  context.lineTo(x2, y2);
  context.stroke();
  context.closePath();
}
</script>
</body>
</html>
